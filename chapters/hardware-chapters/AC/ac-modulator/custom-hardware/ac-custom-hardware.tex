% !TeX root = ../../../../../thesis.tex

\subsubsection{Custom AC Modulator}






Given the shortcomings of the existing hardware, we decided to build custom hardware that would behave exactly how it was needed in order to successfully encode information in such a way that the currents could be decoded by a smart-meter.
This means that the current signature should behave very similar to the DC case: For a `0' data bit encoding, the current should be zero and for a `1' data bit encoding, the current should be some constant value.
The transitions between the symbols must be such, that a square wave is created, just like in the DC case. 

\begin{figure}[b]
	\centering
	\includegraphics[angle=0,width=0.7\textwidth]{chapters/hardware-chapters/AC/ac-modulator/custom-hardware/ac-modulator-architectural.JPG}
	\caption{Architectural overview of the AC LED modulator.}
	\label{fig:ac-led-modulator-architectural}
\end{figure}

The custom modulator consists of three separate parts: A trigger circuit, a current source and a voltage source.
In \autoref{fig:ac-led-modulator-architectural}, an overview of how these parts are connected to each other can be seen.
The commercial LED that will be used for this solution was already shown \autoref{fig:ac-smps-led-and-smps-picture}, but the SMPS is not used, instead this custom hardware will be powering the LED. 
The entire modulator's schematic can be found in \autoref{app:custom-led-modulator-schematic}.
In the following subsections each part of the hardware of the custom LED modulator will be explained.



\input{chapters/hardware-chapters/AC/ac-modulator/custom-hardware/ac-trigger/ac-trigger}

\input{chapters/hardware-chapters/AC/ac-modulator/custom-hardware/ac-current-source/ac-current-source}

\input{chapters/hardware-chapters/AC/ac-modulator/custom-hardware/ac-voltage-source/ac-voltage-source}

